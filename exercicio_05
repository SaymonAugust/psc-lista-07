// Arquivo: Exercicio5_PesquisaOpiniao.cs
using System;

class Program
{
    static void Main()
    {
        int[] votos = new int[5]; // Vetor para contar votos [0]=péssimo, [4]=excelente
        int totalVotos = 0;
        int somaNotas = 0;

        Console.WriteLine("=== Pesquisa de Satisfação ===");
        Console.WriteLine("Avalie o serviço/produto:");
        Console.WriteLine("1 - Péssimo");
        Console.WriteLine("2 - Ruim");
        Console.WriteLine("3 - Regular");
        Console.WriteLine("4 - Bom");
        Console.WriteLine("5 - Excelente");
        Console.WriteLine("0 - Encerrar pesquisa\n");

        while (true)
        {
            Console.Write("Digite sua nota (0 a 5): ");
            int nota = int.Parse(Console.ReadLine());

            if (nota == 0)
                break; // encerra a pesquisa

            if (nota < 1 || nota > 5)
            {
                Console.WriteLine("Opção inválida! Digite um valor entre 1 e 5.\n");
                continue;
            }

            // Armazena o voto
            votos[nota - 1]++;
            totalVotos++;
            somaNotas += nota;
        }

        Console.WriteLine("\n=== Resultado da Pesquisa ===");

        if (totalVotos == 0)
        {
            Console.WriteLine("Nenhum voto registrado.");
        }
        else
        {
            string[] opcoes = { "Péssimo", "Ruim", "Regular", "Bom", "Excelente" };

            // Exibe os votos de cada categoria
            for (int i = 0; i < votos.Length; i++)
            {
                Console.WriteLine($"{opcoes[i]}: {votos[i]} voto(s)");
            }

            // Calcula média
            double media = (double)somaNotas / totalVotos;
            Console.WriteLine($"\nMédia geral das avaliações: {media:F2}");

            // Descobre a opção mais votada
            int maiorVoto = 0;
            int indiceMaisVotado = 0;
            for (int i = 0; i < votos.Length; i++)
            {
                if (votos[i] > maiorVoto)
                {
                    maiorVoto = votos[i];
                    indiceMaisVotado = i;
                }
            }

            Console.WriteLine($"Opção mais votada: {opcoes[indiceMaisVotado]} ({maiorVoto} voto(s))");
        }

        Console.WriteLine("\nPesquisa encerrada. Obrigado pela participação!");
    }
}
